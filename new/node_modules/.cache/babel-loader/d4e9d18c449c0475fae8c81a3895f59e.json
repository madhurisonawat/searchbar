{"ast":null,"code":"import React, { useRef, useState, useEffect } from 'react';\nexport const useThrottle = (value, wait) => {\n  const [throttleval, setThrottleval] = useState(value);\n  const lastCall = useRef(Date.now());\n  useEffect(() => {\n    console.log(lastCall);\n    const timer = setTimeout(() => {\n      console.log(Date.now());\n\n      if (Date.now() - lastCall.current >= wait) {\n        setThrottleval(value);\n        lastCall.current = Date.now();\n      }\n    }, wait - (Date.now() - lastCall.current));\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [value, wait]);\n  return throttleval;\n};","map":{"version":3,"sources":["/home/rs/Desktop/MCode/submission folder/masaigit/ac_040_madhuri/week_20/day_1/assignments/react_hook/src/utils/Throttle.js"],"names":["React","useRef","useState","useEffect","useThrottle","value","wait","throttleval","setThrottleval","lastCall","Date","now","console","log","timer","setTimeout","current","clearTimeout"],"mappings":"AAAA,OAAOA,KAAP,IAAcC,MAAd,EAAqBC,QAArB,EAA8BC,SAA9B,QAA8C,OAA9C;AAEA,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAD,EAAOC,IAAP,KAAc;AACrC,QAAM,CAACC,WAAD,EAAaC,cAAb,IAA6BN,QAAQ,CAACG,KAAD,CAA3C;AACA,QAAMI,QAAQ,GAAGR,MAAM,CAACS,IAAI,CAACC,GAAL,EAAD,CAAvB;AAEAR,EAAAA,SAAS,CAAC,MAAI;AACVS,IAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACA,UAAMK,KAAK,GAAGC,UAAU,CAAC,MAAM;AAC3BH,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,GAAL,EAAZ;;AACA,UAAGD,IAAI,CAACC,GAAL,KAAWF,QAAQ,CAACO,OAApB,IAA+BV,IAAlC,EAAuC;AACnCE,QAAAA,cAAc,CAACH,KAAD,CAAd;AACAI,QAAAA,QAAQ,CAACO,OAAT,GAAmBN,IAAI,CAACC,GAAL,EAAnB;AACH;AAEJ,KAPuB,EAOtBL,IAAI,IAAGI,IAAI,CAACC,GAAL,KAAYF,QAAQ,CAACO,OAAxB,CAPkB,CAAxB;AASA,WAAQ,MAAI;AACRC,MAAAA,YAAY,CAACH,KAAD,CAAZ;AACH,KAFD;AAGH,GAdQ,EAcP,CAACT,KAAD,EAAOC,IAAP,CAdO,CAAT;AAgBA,SAAOC,WAAP;AACH,CArBM","sourcesContent":["import React,{useRef,useState,useEffect} from 'react'\n\nexport const useThrottle = (value,wait)=>{\n    const [throttleval,setThrottleval]=useState(value)\n    const lastCall = useRef(Date.now())\n\n    useEffect(()=>{\n        console.log(lastCall)\n        const timer = setTimeout(() => {\n            console.log(Date.now())\n            if(Date.now()-lastCall.current >= wait){\n                setThrottleval(value)\n                lastCall.current = Date.now()\n            }\n\n        },wait- (Date.now()- lastCall.current));\n\n        return  ()=>{\n            clearTimeout(timer)\n        }\n    },[value,wait])\n\n    return throttleval\n}"]},"metadata":{},"sourceType":"module"}