{"ast":null,"code":"var _jsxFileName = \"/home/rs/Desktop/MCode/submission folder/masaigit/ac_040_madhuri/week_20/day_1/assignments/react_hook/src/components/SearchBar.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useThrottle } from '../utils/Throttle';\nconst SearchBarwrapper = styled.div`\nposition :relative;\nborder:1px solid black;\nborder-radius:20px;\ndisplay:flex;\nflex-direction:row;\npadding:10px;\nwidth:400px;\nmargin-left:35%;\nborder-bottom-right-radius :${({\n  results\n}) => results ? `0px` : `20px`}\nborder-bottom-left-radius :${({\n  results\n}) => results ? `0px` : `20px`}\nborder-bottom-color :${({\n  results\n}) => results ? `transparent` : `black`}`;\nconst IconImage = styled.img`\nheight:20px;\npadding-right:20px;`;\nconst RightSide = styled.div`\ndisplay:flex;\nflex:0 0 auto;\npadding-right:10px`;\nconst Input = styled.input`\noutline:none;\nflex:100%;\nborder:none;\nwidth:300px`;\nconst Spinner = styled.div`\nborder:5px solid grey;\nborder-top: 5px solid blue;\nborder-radius :50%;\nwidth:15px;\nheight:15px;\nanimation: spin 1s linear infinite;\nmargin-left:15px;\n@keyframes spin{\n    0%{\n        transform :rotate (0deg)\n    }\n    100%{\n        transform : rotate(360deg)\n    }\n}`;\nconst Suggestions = styled.div`\ndisplay:flex;\nflex-direction:column;\nflex:0 0 auto;\nwidth:420px;\nmargin-left:35%;\nmax-height:300px;\noverflow:scroll;\nborder-bottom-right-radius:20px;\nborder-bottom-left-radius:20px;\nborder:1px solid black;\n& *{\n    border:1px solid grey;\n    border-top-color:transparent;\n\n    flex:1;\n    padding:5px;\n    padding-left:30px;\n  \n\n}\n& :nth-child(${({\n  active\n}) => active}){\n    background:gray;\n    color:white;\n    font-weight:bolder\n}`;\nexport default function SearchBar({\n  value,\n  onChange,\n  suggestions,\n  loading,\n  setLoading\n}) {\n  const [q, setQ] = useState(\"\");\n  const [active, setActive] = useState(0);\n  const throttleval = useThrottle(q, 1000);\n\n  const handleInput = e => {\n    setQ(e.target.value);\n    setLoading(true);\n  };\n\n  useEffect(() => {\n    onChange(throttleval);\n  }, [throttleval, onChange]);\n\n  const clearQuery = () => {\n    setQ(\"\");\n\n    if (loading) {\n      setLoading(false);\n    }\n  };\n\n  const handleSuggestions = e => {\n    switch (e.keyCode) {\n      case 40:\n        {\n          if (active >= suggestions.length) {\n            //active+5\n            setActive(1);\n          } else {\n            setActive(prev => prev + 1);\n          }\n\n          return;\n        }\n\n      case 38:\n        {\n          if (active === 1) {\n            setActive(0);\n          } else if (active <= 0) {\n            setActive(suggestions.length);\n          } else {\n            setActive(prev => prev - 1);\n          }\n\n          return;\n        }\n\n      case 13:\n        {//onEnter(Active-1)\n        }\n\n      default:\n        {\n          setActive(0);\n          return;\n        }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SearchBarwrapper, {\n    results: suggestions.length !== 0 && !loading,\n    onKeyUp: handleSuggestions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IconImage, {\n    src: \"https://image.flaticon.com/icons/svg/622/622669.svg\",\n    alt: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    value: q,\n    onChange: handleInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(RightSide, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, q && /*#__PURE__*/React.createElement(\"div\", {\n    onClick: clearQuery,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 23\n    }\n  }, \"X\"), loading && /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 29\n    }\n  }))), !loading && /*#__PURE__*/React.createElement(Suggestions, {\n    active: active,\n    limit: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, suggestions.filter((item, index) => index >= active && index < active + 5).map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    onMouseOver: () => setActive(index + 1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, item))));\n}","map":{"version":3,"sources":["/home/rs/Desktop/MCode/submission folder/masaigit/ac_040_madhuri/week_20/day_1/assignments/react_hook/src/components/SearchBar.jsx"],"names":["React","useState","useEffect","styled","useThrottle","SearchBarwrapper","div","results","IconImage","img","RightSide","Input","input","Spinner","Suggestions","active","SearchBar","value","onChange","suggestions","loading","setLoading","q","setQ","setActive","throttleval","handleInput","e","target","clearQuery","handleSuggestions","keyCode","length","prev","filter","item","index","map"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport styled from 'styled-components'\nimport {useThrottle} from '../utils/Throttle'\n\nconst SearchBarwrapper = styled.div`\nposition :relative;\nborder:1px solid black;\nborder-radius:20px;\ndisplay:flex;\nflex-direction:row;\npadding:10px;\nwidth:400px;\nmargin-left:35%;\nborder-bottom-right-radius :${({results})=>results?`0px`:`20px`}\nborder-bottom-left-radius :${({results})=>results?`0px`:`20px`}\nborder-bottom-color :${({results})=>results?`transparent`:`black`}`\n\nconst IconImage = styled.img`\nheight:20px;\npadding-right:20px;`\n\n\nconst RightSide = styled.div`\ndisplay:flex;\nflex:0 0 auto;\npadding-right:10px`\n\n\nconst Input = styled.input`\noutline:none;\nflex:100%;\nborder:none;\nwidth:300px`\n\nconst Spinner = styled.div`\nborder:5px solid grey;\nborder-top: 5px solid blue;\nborder-radius :50%;\nwidth:15px;\nheight:15px;\nanimation: spin 1s linear infinite;\nmargin-left:15px;\n@keyframes spin{\n    0%{\n        transform :rotate (0deg)\n    }\n    100%{\n        transform : rotate(360deg)\n    }\n}`\n\nconst Suggestions = styled.div`\ndisplay:flex;\nflex-direction:column;\nflex:0 0 auto;\nwidth:420px;\nmargin-left:35%;\nmax-height:300px;\noverflow:scroll;\nborder-bottom-right-radius:20px;\nborder-bottom-left-radius:20px;\nborder:1px solid black;\n& *{\n    border:1px solid grey;\n    border-top-color:transparent;\n\n    flex:1;\n    padding:5px;\n    padding-left:30px;\n  \n\n}\n& :nth-child(${({active})=>active}){\n    background:gray;\n    color:white;\n    font-weight:bolder\n}`\n\n\n\nexport default function SearchBar ({value,onChange,suggestions,loading,setLoading}){\n    const [q,setQ] = useState(\"\")\n    const [active,setActive]=useState(0)\n    const throttleval = useThrottle(q,1000)\n    const handleInput =(e)=>{\n        setQ(e.target.value)\n        setLoading(true)\n    }\n\n    useEffect(()=>{\n        onChange(throttleval)\n    },[throttleval,onChange])\n\n\n    const clearQuery =()=>{\n        setQ(\"\")\n        if(loading){\n            setLoading(false)\n        }\n    }\n    const handleSuggestions =(e)=>{\n        switch(e.keyCode){\n            case 40:{\n                if(active >=suggestions.length){ //active+5\n                    setActive(1)\n\n                }\n                else{\n                    setActive((prev)=>prev+1)\n                }\n                return\n            }\n            case 38: {\n                if(active ===1){\n                    setActive(0)\n                }\n\n                else if(active <=0){\n                    setActive(suggestions.length)\n                }\n                else{\n                    setActive((prev)=>prev-1)\n                }\n                return \n            }\n            case 13 :{\n                //onEnter(Active-1)\n            }\n            default :{\n                setActive(0)\n                return\n            }\n        }\n\n    }\n    return(\n        <>\n        <SearchBarwrapper results={suggestions.length!==0 && !loading} onKeyUp={handleSuggestions}>\n            <IconImage src=\"https://image.flaticon.com/icons/svg/622/622669.svg\"alt=\"icon\"/>\n            <Input value={q} onChange={handleInput}/>\n            <RightSide>\n                {q && <div onClick={clearQuery}>X</div>}\n                {loading && <Spinner/>}\n            </RightSide>\n          \n        </SearchBarwrapper>\n\n        {!loading && (\n            <Suggestions active={active} limit={5}>\n                {suggestions.filter((item,index)=>index >=active && index<active+5).map((item,index)=>(\n                    <div key ={index} onMouseOver ={()=>setActive(index+1)}>{item}</div>\n                \n                ))}\n            </Suggestions>\n        )\n            \n        }\n      \n        </>\n    )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}